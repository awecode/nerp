{% extends 'hr_base.html' %}
{% load staticfiles %}

{% load filters %}
{% load i18n %}

{% block head_end %}
<link rel="stylesheet" href="{% static 'hr/css/plugins/toastr/toastr.css' %}">


    <script src="{% static 'hr/js/plugins/toastr/toastr.js' %}"></script>
    <script src="{% static 'hr/js/plugins/blockUI/jquery.blockUI.js' %}"></script>
    <script src="{% static 'hr/js/notify_user.js' %}"></script>
    <script src="{% static 'hr/js/hr_report_cu.js' %}"></script>
    <script>
        ko_data = {{ko_data|jsonify}}
                $(document).on('click', '.dropdown-menu', function (e) {
                    e.stopPropagation();
                });
    </script>
    
{% endblock %}
{% block breadcrumbs %}
    {{ block.super }}
        <li><a href="{% url 'payroll_entry' %}">{% trans 'Payroll Entry' %}</a>
        <li><a href="{% url 'entry_list' %}">{% trans 'Entry List' %}</a>
        <li><a href="{% url 'list_report_setting' %}">{% trans 'Report Setting List' %}</a>

{% endblock %}
{% block breadcrumbs_before_print %}
{% endblock %}

{% block alert %}

    <!-- <div id="alert_placeholder">
        <ul data-bind="foreach: errors.items" class="alert-error">
            <li>
                Budget for "<span data-bind="text: budget.name()"></span>" from source "<span data-bind="text: source"></span>" exceeds
            </li>
        </ul>
    </div> -->
{% endblock %}

{% block content %}
<div class="well">
<form>
    {{ hr_report_form }}
    
    <h3>{% trans 'Report Tables' %}</h3>
    <!-- ko foreach: report_tables -->
    <div>
          {{ report_table_form }}
        <!-- ko foreach: table_details -->
            <div class="row">
              <div class="col-lg-2">
                  {{ report_table_detail_form.field_name.label }}
                  {{ report_table_detail_form.field_name }}
              </div>
              <div class="col-lg-4">
                  {{ report_table_detail_form.field_description.label }}
                  {{ report_table_detail_form.field_description }}
              </div>
              <div class="col-lg-3">
                  {{ report_table_detail_form.order.label }}
                  {{ report_table_detail_form.order }}
              </div>
              <div class="col-lg-3">
                  {{ report_table_detail_form.need_total.label }}
                  {{ report_table_detail_form.need_total }}
              </div>
            </div>
        <!-- /ko -->
        <div>
            <button class='btn btn-primary' data-bind="click: add_new_field">{% trans 'Add New Table Field' %}</button>
        </div>
    </div>

    <!-- /ko -->
    <button class='btn btn-primary' data-bind="click: add_new_table">{% trans 'Add New Table' %}</button>
</form>
<button class="btn btn-primary btn-raised" data-bind="click: save_report">{% trans 'Save' %}</button>
</div>
{% endblock %}