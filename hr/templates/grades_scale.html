{% extends 'hr_base.html' %}
{% load staticfiles %}

{% load filters %}
{% load i18n %}

{% block head_end %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'css/bootstrap/datepicker.css' %}">
    <link rel="stylesheet" href="{% static 'css/vendors/nepali.datepicker.v2.1.min.css' %}">
    <script src="{% static 'js/vendors/knockout-mapping-plugin.js' %}"></script>
    <script src="{% static 'js/vendors/nepali.datepicker.v2.1.min.js' %}"></script>
    <script src="{% static 'js/bootstrap/bootstrap-datepicker.js' %}"></script>

    <script src="{% static 'js/hr/grades_scale.js' %}"></script>
    <script src="{% static 'js/hr/select_item_modal.js' %}"></script>

    <script>
        $(document).ready(function () {
            vm = new gradeScale.vm();
            ko.applyBindings(vm);
        });

    </script>
{% endblock %}
{% block breadcrumbs %}
    {{ block.super }}
    <li><a href="{% url 'payroll_entry' %}">{% trans 'Payroll Entry' %}</a>
    <li><a href="{% url 'entry_list' %}">{% trans 'Entry List' %}</a>

{% endblock %}
{% block breadcrumbs_before_print %}
    {#    <li>#}
    {#    </li>#}
{% endblock %}

{% block alert %}

    <!-- <div id="alert_placeholder">
        <ul data-bind="foreach: errors.items" class="alert-error">
            <li>
                Budget for "<span data-bind="text: budget.name()"></span>" from source "<span data-bind="text: source"></span>" exceeds
            </li>
        </ul>
    </div> -->
{% endblock %}

{% block content %}

    <div class="col-lg-12 well">
        <div class="col-lg-8">
            <legend>{% trans "Employee Grade Scales" %}</legend>
        </div>
        {#    This is validity Modal#}
        <select-crud-modal params="{
            api_url: validity_api_url,
            modal_name: 'Grade Scale Validity',
            select_list_obs: available_scale_validities,
            selected_item_obs: selected_validity,
            optionsText : function(item){return 'Valid From: ' + item.valid_from()},
            optionsCaption: 'Select Grade Scale Validity..',

            form_observables: function(){
                var self = this;
                self.id = ko.observable();
                self.valid_from = ko.observable();
                self.note = ko.observable();
            }
        }">
            <form>
                <div class="form-inline">
                    <div class="form-group">
                        <label class="form-control">Valid From: </label>
                        <input class="form-control" data-bind="value: valid_from" type="text">
                    </div>
                </div>

                <div class="form-inline">
                    <div class="form-group">
                        <label class="form-control">Note: </label>
                        <input class="form-control" data-bind="value: note" type="text">
                    </div>
                </div>

                <!-- ko if: typeof(id()) == 'undefined' -->
                <input type="button" class="btn btn-raised btn-primary" value="Save" data-bind="click: save">
                <!-- /ko -->
                <!-- ko if: typeof(id()) != 'undefined' -->
                <input type="button" class="btn btn-raised btn-primary" value="Update" data-bind="click: update">
                <input type="button" class="btn btn-raised btn-danger" value="Delete" data-bind="click: _delete">
                <!-- /ko -->

            </form>

        </select-crud-modal>
        {#    End This is validity Modal#}

    </div>

    {#    This is validity Modal#}
    {#    <validity-modal params="{#}
    {#        show_modal: show_validity_modal,#}
    {#        form_vm: validity_modal_form,#}
    {#        modal_name: 'Grade Scale Validity'#}
    {#    }">#}
    {#        <form>#}
    {#            <div class="form-inline">#}
    {#                <div class="form-group">#}
    {#                    <label class="form-control">Valid From: </label>#}
    {#                    <input class="form-control" data-bind="value: valid_from" type="text">#}
    {#                </div>#}
    {#            </div>#}
    {##}
    {#            <div class="form-inline">#}
    {#                <div class="form-group">#}
    {#                    <label class="form-control">Note: </label>#}
    {#                    <input class="form-control" data-bind="value: note" type="text">#}
    {#                </div>#}
    {#            </div>#}
    {##}
    {#            <!-- ko if: typeof(id()) == 'undefined' -->#}
    {#            <input type="button" class="btn btn-raised btn-primary" value="Save" data-bind="click: save">#}
    {#            <!-- /ko -->#}
    {#            <!-- ko if: typeof(id()) != 'undefined' -->#}
    {#            <input type="button" class="btn btn-raised btn-primary" value="Update" data-bind="click: update">#}
    {#            <input type="button" class="btn btn-raised btn-danger" value="Delete" data-bind="click: _delete">#}
    {#            <!-- /ko -->#}
    {##}
    {#        </form>#}
    {##}
    {#    </validity-modal>#}
    {#    End This is validity Modal#}


{% endblock %}